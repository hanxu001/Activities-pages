<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>天降福瑞</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" href="css/apple.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery.min.js"></script>
</head>

<body>
    <div class="main">
        <div class="header">
            <p>结束倒计时：<span id="header-text"></span></p>
        </div>
        <p class="residue">已开启红包次数 2/7</p>
        <div class="red-pack clearfix">
            <img src="images/red.png" alt="">
            <img src="images/red.png" alt="">
            <img src="images/red.png" alt="">
        </div>
        <div class="rule-title clearfix">
            <div class="l"><img src="images/rule.png" alt=""></div>
            <div class="r"><img src="images/rule.png" alt=""></div>
            <span>规则说明</span>
        </div>
        <div class="rule-con">
            <p>1.活动时间：7天；</p>
            <p>2.用户每天可以开启一次红包，红包内奖励为（金币、直用红包、减满红包），开启后可随机获得其中一种；</p>
            <p>3.开启获得奖励后请在个人中心查看余额，或者在我的红包内查看自己的红包。</p>
        </div>
        <div class="shadow" style="display: none;">
            <div class="alert_default">
                <p class="title">恭喜您获得</p>
                <p class="text">满10减2红包</p>
                <p class="btn">确定</p>
            </div>
            <img src="images/red_alert.gif" alt="" class="alert_open" style="display: none;">
        </div>
    </div>
    <script>
    //倒计时1:截止到准确的某天
    // (function(){
    //     function ShowCountDown(year, month, day, divname) {
    //     var now = new Date();
    //     var endDate = new Date(year, month - 1, day);
    //     var leftTime = endDate.getTime() - now.getTime();
    //     var leftsecond = parseInt(leftTime / 1000);
    //     var day1 = Math.floor(leftsecond / (60 * 60 * 24));
    //     var hour = Math.floor((leftsecond - day1 * 24 * 60 * 60) / 3600);
    //     var minute = Math.floor((leftsecond - day1 * 24 * 60 * 60 - hour * 3600) / 60);
    //     var second = Math.floor(leftsecond - day1 * 24 * 60 * 60 - hour * 3600 - minute * 60);
    //     var cc = document.getElementById(divname);
    //     cc.innerHTML = day1 + "天" + hour + "时" + minute + "分" + second + "秒";
    // }
    // window.setInterval(function() {
    //     ShowCountDown(2017, 7, 8, 'header-text');
    // }, 1000);
    // })();
    //倒计时2:触发后往后数7天，比如今天触发
    var toDay = new Date().getDate();
    console.log(toDay);
    (function(n) {
        function ShowCountDown(year, month, day, divname) {
            var now = new Date();
            var endDate = new Date(year, month - 1, day);
            var leftTime = endDate.getTime() - now.getTime();
            var leftsecond = parseInt(leftTime / 1000);
            var day1 = Math.floor(leftsecond / (60 * 60 * 24));
            var hour = Math.floor((leftsecond - day1 * 24 * 60 * 60) / 3600);
            var minute = Math.floor((leftsecond - day1 * 24 * 60 * 60 - hour * 3600) / 60);
            var second = Math.floor(leftsecond - day1 * 24 * 60 * 60 - hour * 3600 - minute * 60);
            var cc = document.getElementById(divname);
            cc.innerHTML = day1 + "天" + hour + "时" + minute + "分" + second + "秒";
        }
        window.setInterval(function() {
            ShowCountDown(2017, 7, n, 'header-text');
        }, 1000);
    })(toDay + 7);
    // 红包
    $('.red-pack').find('img').click(function() {
        $('.shadow').show();
    });
    $('.alert_default').click(function() {
        $('.alert_default').hide();
        $('.alert_open').show();
    })
    </script>
</body>

</html>
